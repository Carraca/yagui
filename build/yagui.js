!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.yagui=t():e.yagui=t()}("undefined"!=typeof self?self:this,function(){return function(e){function t(n){if(o[n])return o[n].exports;var i=o[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var o={};return t.m=e,t.c=o,t.d=function(e,o,n){t.o(e,o)||Object.defineProperty(e,o,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var o=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(o,"a",o),o},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=3)}([function(e,t,o){"use strict";function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,o){t&&n(e.prototype,t)}(e,[{key:"_getInitialValue",value:function(e,t){return"string"!=typeof t?e:e[t]}},{key:"_getCheckCallback",value:function(e,t){return"string"!=typeof t?t:function(o){e[t]=o}}},{key:"_setDomContainer",value:function(e){this.domContainer=e}},{key:"setCallback",value:function(e){this.callback=e}},{key:"setVisibility",value:function(e){this.domContainer&&(this.domContainer.hidden=!e)}}]),e}();t.default=i},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(o(7)),a=n(o(8)),u=n(o(9)),l=n(o(10)),s=n(o(11)),d=n(o(12)),c=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,o){t&&i(e.prototype,t)}(e,[{key:"_addLine",value:function(e){var t=document.createElement("li");return t.innerHTML=e||"",this.domUl.appendChild(t),t}},{key:"_createLabel",value:function(e){var t=document.createElement("label");return t.className="gui-label-side",t.innerHTML=e||"",t}},{key:"_setDomContainer",value:function(e){this.domContainer=e}},{key:"addTitle",value:function(e){var t=new d.default(e);return this.domUl.appendChild(t.domText),t}},{key:"addCheckbox",value:function(e,t,o){var n=new a.default(t,o),i=this._addLine();i.className+=" gui-pointerOnHover gui-glowOnHover";var r=this._createLabel(e);return r.style.overflow="visible",r.className+=" gui-pointerOnHover",i.appendChild(r),i.appendChild(n.domCheckbox),i.appendChild(n.domLabelCheckbox),i.addEventListener("mousedown",n._onMouseDown.bind(n)),n._setDomContainer(i),n}},{key:"addCombobox",value:function(e,t,o,n){var i=new l.default(t,o,n),r=this._addLine();return e?r.appendChild(this._createLabel(e)):i.domSelect.style.width="100%",r.appendChild(i.domSelect),i._setDomContainer(r),i}},{key:"addSlider",value:function(e,t,o,n,i,r){var a=new s.default(t,o,n,i,r),u=this._addLine();return e&&u.appendChild(this._createLabel(e)),u.appendChild(a.domInputText),u.appendChild(a.domSlider),a._setDomContainer(u),a}},{key:"addColor",value:function(e,t,o){var n=new u.default(t,o),i=this._addLine();return e?i.appendChild(this._createLabel(e)):n.domColor.style.width="100%",i.appendChild(n.domColor),n._setDomContainer(i),n}},{key:"addButton",value:function(e,t,o){var n=new r.default(e,t,o),i=this._addLine();return i.appendChild(n.domButton),n._setDomContainer(i),n}},{key:"addDualButton",value:function(e,t,o,n,i,a){var u=new r.default(e,o,i),l=new r.default(t,n,a),s=this._addLine();s.appendChild(l.domButton),s.appendChild(u.domButton);var d=u.domButton.style,c=l.domButton.style;return d.width=c.width="49%",d.marginRight=c.marginLeft="1%",u._setDomContainer(s),l._setDomContainer(s),[u,l]}},{key:"setVisibility",value:function(e){this.domContainer&&(this.domContainer.hidden=!e)}}]),e}();t.default=c},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={rgbToHsv:function(e){var t=e[0],o=e[1],n=e[2],i=Math.max(t,o,n),r=Math.min(t,o,n);return r===i?[0,0,r]:[((t===r?3:n===r?1:5)-(t===r?o-n:n===r?t-o:n-t)/(i-r))/6,(i-r)/i,i]},hsvToRgb:function(e){var t=6*e[0],o=e[1],n=e[2],i=Math.floor(t),r=t-i,a=n*(1-o),u=n*(1-r*o),l=n*(1-(1-r)*o),s=i%6;return 0===s?[n,l,a]:1===s?[u,n,a]:2===s?[a,n,l]:3===s?[a,u,n]:4===s?[l,a,n]:[n,a,u]},getValidColor:function(e){for(var t=0,o=e.length;t<o;++t)e[t]=Math.max(0,Math.min(1,e[t]));return e},getStrColor:function(e){return 3===e.length?n.rgbToHex(e):"rgba("+Math.round(255*e[0])+","+Math.round(255*e[1])+","+Math.round(255*e[2])+","+e[3]+")"},getColorMult:function(e,t){var o=[e[0]*t,e[1]*t,e[2]*t];return 4===e.length&&o.push(e[3]),n.getValidColor(o)},getColorAdd:function(e,t){var o=[e[0]+t,e[1]+t,e[2]+t];return 4===e.length&&o.push(e[3]),n.getValidColor(o)},rgbToHex:function(e){for(var t="#",o=0;o<3;++o){var n=Math.round(255*e[o]).toString(16);t+=1===n.length?"0"+n:n}return t},hexToRgb:function(e){var t=0;"#"===e[0]&&(e=e.slice(1));var o=e;if(e.length>6)o=e.slice(0,6);else if(e.length<6)for(o="",t=0;t<3;++t)o+=e[t]?e[t]+e[t]:"00";var n=[0,0,0];for(t=0;t<3;++t){var i=parseInt(o[2*t]+o[2*t+1],16);n[t]=(i!=i?0:i)/255}return n}},i=n;t.default=i},function(e,t,o){"use strict";var n={GuiMain:o(4).default};e.exports=n},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(o(5)),a=n(o(13)),u=function(){function e(t,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.domMain=document.createElement("div"),this.viewport=t,this.callbackResize=o,this.viewport&&(this.viewport.style.width=document.documentElement.clientWidth+"px",this.viewport.style.height=document.documentElement.clientHeight+"px"),this.cbResize_=this._onWindowResize.bind(this),document.body.appendChild(this.domMain),this.leftSidebar=void 0,this.rightSidebar=void 0,this.topbar=void 0,window.addEventListener("resize",this._onWindowResize.bind(this),!1)}return function(e,t,o){t&&i(e.prototype,t)}(e,[{key:"_onWindowResize",value:function(){this.viewport&&(this.viewport.style.width=document.documentElement.clientWidth+"px",this.viewport.style.height=document.documentElement.clientHeight+"px",this.viewport.style.left="0px",this.viewport.style.top="0px",this.leftSidebar&&this.leftSidebar._updateViewportPosition(this.viewport),this.rightSidebar&&this.rightSidebar._updateViewportPosition(this.viewport),this.topbar&&this.topbar._updateViewportPosition(this.viewport)),this._updateSidebarsPosition(),this.callbackResize&&this.callbackResize()}},{key:"_updateSidebarsPosition",value:function(){if(this.topbar){var e=this.topbar.domTopbar.offsetHeight;this.leftSidebar&&this.leftSidebar._setTop(e),this.rightSidebar&&this.rightSidebar._setTop(e)}}},{key:"addLeftSidebar",value:function(){this.leftSidebar=new r.default(this.cbResize_);var e=this.leftSidebar.domSidebar;return this.domMain.appendChild(e),this.domMain.appendChild(this.leftSidebar.domResize),this._updateSidebarsPosition(),this.leftSidebar._updateViewportPosition(this.viewport),this.leftSidebar}},{key:"addRightSidebar",value:function(){this.rightSidebar=new r.default(this.cbResize_);var e=this.rightSidebar.domSidebar;return this.domMain.appendChild(e),this.domMain.appendChild(this.rightSidebar.domResize),this.rightSidebar._onTheRight(),this._updateSidebarsPosition(),this.rightSidebar._updateViewportPosition(this.viewport),this.rightSidebar}},{key:"addTopbar",value:function(){return this.topbar=new a.default(this.cbResize_),this.domMain.appendChild(this.topbar.domTopbar),this._updateSidebarsPosition(),this.topbar._updateViewportPosition(this.viewport),this.topbar}},{key:"setVisibility",value:function(e){this.domMain.hidden=!e,this._onWindowResize()}}]),e}();t.default=u},function(e,t,o){"use strict";function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){return e&&e.__esModule?e:{default:e}}(o(6)),r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.domSidebar=document.createElement("div"),this.domSidebar.className="gui-sidebar",this.domResize=document.createElement("div"),this.domResize.className="gui-resize",this.isDragging=!1,this.mouseX=0,this.domResize.addEventListener("mousedown",this._onMouseDown.bind(this)),window.addEventListener("mousemove",this._onMouseMove.bind(this)),window.addEventListener("mouseup",this._onMouseUp.bind(this)),this.callbackResize=t,this.isOnTheRight=!1}return function(e,t,o){t&&n(e.prototype,t)}(e,[{key:"_setTop",value:function(e){this.domSidebar.style.top=this.domResize.style.top=e+"px"}},{key:"_onTheRight",value:function(){this.isOnTheRight=!1,this.domSidebar.style.left=0,this.domSidebar.style.borderRight=0,this.domSidebar.style.borderLeft="double",this.domSidebar.style.borderColor="rgba(255,255,255,0.3)",this.domResize.style.left="auto",this.domResize.style.right=this.domSidebar.offsetWidth+"px",this.domResize.style.marginRight="-3px"}},{key:"_onMouseDown",value:function(e){this.isDragging=!0,this.mouseX=e.clientX}},{key:"_updateViewportPosition",value:function(e){var t=this.domSidebar.hidden?0:this.domSidebar.offsetWidth;this.isOnTheRight?e.style.width=e.clientWidth-t+"px":(e.style.left=this.domSidebar.offsetLeft+t+"px",e.style.width=e.clientWidth-t+"px")}},{key:"_onMouseMove",value:function(e){if(!1!==this.isDragging){var t=e.clientX,o=t-this.mouseX;this.isOnTheRight&&(o=-o);var n=Math.max(50,this.domSidebar.offsetWidth+o)+"px";this.domSidebar.style.width=n,this.isOnTheRight?this.domResize.style.right=this.domSidebar.offsetWidth+"px":this.domResize.style.left=n,this.mouseX=t,this.callbackResize()}}},{key:"_onMouseUp",value:function(){this.isDragging=!1}},{key:"addMenu",value:function(e){var t=new i.default(e);return this.domSidebar.appendChild(t.domUl),t}},{key:"setVisibility",value:function(e){this.domSidebar.hidden=!e,this.domResize.hidden=!e,this.callbackResize()}}]),e}();t.default=r},function(e,t,o){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=function(e){return e&&e.__esModule?e:{default:e}}(o(1)),s=function(e){function t(e){var o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(o=function(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?a(e):t}(this,r(t).call(this))).domUl=document.createElement("ul"),o.domUl.setAttribute("opened",!0);var i=document.createElement("label");return i.innerHTML=e||"",i.addEventListener("mousedown",o._onMouseDown.bind(a(o))),o.domUl.appendChild(i),o.isOpen=!0,o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,l.default),function(e,t,o){t&&i(e.prototype,t)}(t,[{key:"_onMouseDown",value:function(){this.isOpen=!this.isOpen,this.domUl.setAttribute("opened",this.isOpen)}},{key:"open",value:function(){this.isOpen=!0,this.domUl.setAttribute("opened",!0)}},{key:"close",value:function(){this.isOpen=!1,this.domUl.setAttribute("opened",!1)}},{key:"setVisibility",value:function(e){e?this.isOpen&&this.domUl.setAttribute("opened",!0):this.domUl.setAttribute("opened",!1),this.domUl.style.height=e?"auto":"0px"}}]),t}();t.default=s},function(e,t,o){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=function(e){return e&&e.__esModule?e:{default:e}}(o(0)),s=function(e){function t(e,o,i){var u;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),u=function(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?a(e):t}(this,r(t).call(this));var l=i?o[i].bind(o):o;return u.domButton=document.createElement("button"),u.domButton.className="gui-button",u.domButton.innerHTML=e||"",u.domButton.addEventListener("click",u._onClick.bind(a(u))),u.setCallback(l),u}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,l.default),function(e,t,o){t&&i(e.prototype,t)}(t,[{key:"setEnable",value:function(e){this.domButton.disabled=void 0!==e&&!e}},{key:"_onClick",value:function(){this.callback&&this.callback()}}]),t}();t.default=s},function(e,t,o){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=function(e){return e&&e.__esModule?e:{default:e}}(o(0)),s=function(e){function t(e,o){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=(n=r(this,a(t).call(this)))._getInitialValue(e,o),u=n._getCheckCallback(e,o);return n.domCheckbox=document.createElement("input"),n.domCheckbox.className="gui-input-checkbox",n.domCheckbox.type="checkbox",n.domLabelCheckbox=document.createElement("label"),n.setValue(void 0===i||i),n.setCallback(u),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,l.default),function(e,t,o){t&&i(e.prototype,t)}(t,[{key:"_onMouseDown",value:function(){this.setValue(!this.domCheckbox.checked)}},{key:"setValue",value:function(e,t){this.domCheckbox.checked=e,!t&&this.callback&&this.callback(e)}},{key:"getValue",value:function(){return this.domCheckbox.checked}}]),t}();t.default=s},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n(o(2)),d=n(o(0)),c=["-moz-","-o-","-webkit-","-ms-",""],f=function(e){function t(e,o){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=(n=function(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?u(e):t}(this,a(t).call(this)))._getInitialValue(e,o),l=n._getCheckCallback(e,o);n.color=r?s.default.getValidColor(r.slice()):[1,0,0],n.domColor=document.createElement("div"),n.domColor.className="gui-widget-color",n.domInputColor=document.createElement("input"),n.domPopup=document.createElement("div"),n.domHue=document.createElement("div"),n.domHue.className="gui-color-hue",n.domHueKnob=document.createElement("div"),n.domHueKnob.className="gui-knob-hue",n.domSaturation=document.createElement("div"),n.domSaturation.className="gui-color-saturation";var d=document.createElement("div");return n.domSaturation.appendChild(d),n.domSaturationKnob=document.createElement("div"),n.domSaturationKnob.className="gui-knob-saturation",n.domHue.appendChild(n.domHueKnob),n.domPopup.appendChild(n.domSaturationKnob),n.domPopup.appendChild(n.domSaturation),n.domPopup.appendChild(n.domHue),n.domColor.appendChild(n.domInputColor),n.domColor.appendChild(n.domPopup),n._hueGradient(n.domHue),n._linearGradient(d,"top","rgba(0,0,0,0)","#000"),n.domColor.addEventListener("keydown",n._onInputDown.bind(u(n))),n.domSaturation.addEventListener("mousedown",n._onSaturationDown.bind(u(n))),n.domHue.addEventListener("mousedown",n._onHueDown.bind(u(n))),window.addEventListener("mouseup",n._onMouseUp.bind(u(n))),window.addEventListener("mouseout",n._onMouseUp.bind(u(n))),window.addEventListener("mousemove",n._onMouseMove.bind(u(n))),n.hasAlpha=4===n.color.length,n.alpha=1,n.hasAlpha&&(n.domPopup.style.width="142px",n.domAlpha=document.createElement("div"),n.domAlpha.className="gui-color-alpha",n.domAlphaKnob=document.createElement("div"),n.domAlphaKnob.className="gui-knob-alpha",n._alphaGradient(n.domAlpha,"top","rgba(0,0,0,1.0)","rgba(0,0,0,0.0)"),n.domAlpha.addEventListener("mousedown",n._onAlphaDown.bind(u(n))),n.domAlpha.appendChild(n.domAlphaKnob),n.domPopup.appendChild(n.domAlpha)),n.editHue=n.editSaturation=n.editAlpha=!1,n.widgetHeight=n.widgetWidth=100,n.setValue(n.color),n.setCallback(l),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(t,d.default),function(e,t,o){t&&r(e.prototype,t)}(t,[{key:"_onInputDown",value:function(e){e.stopPropagation(),13===e.keyCode&&this.setValue(s.default.hexToRgb(e.target.value))}},{key:"_onUpdateSaturation",value:function(e){var t=this.domSaturation.getBoundingClientRect(),o=s.default.rgbToHsv(this.getValue());o[1]=Math.min(1,Math.max(0,(e.clientX-t.left)/t.width)),o[2]=Math.min(1,Math.max(0,1-(e.clientY-t.top)/t.width)),this.setValue(s.default.hsvToRgb(o),!1,!0),this._updateGui()}},{key:"_onUpdateHue",value:function(e){var t=this.domHue.getBoundingClientRect(),o=s.default.rgbToHsv(this.getValue());o[0]=Math.min(1,Math.max(0,1-(e.clientY-t.top)/t.height)),this.setValue(s.default.hsvToRgb(o),!1,!0),this._updateGui()}},{key:"_onUpdateAlpha",value:function(e){var t=this.domAlpha.getBoundingClientRect(),o=this.getValue();o[3]=this.alpha=Math.min(1,Math.max(0,1-(e.clientY-t.top)/t.height)),this.setValue(o,!1,!0),this._updateGui()}},{key:"_updateGui",value:function(){var e=this.getValue(),t=s.default.rgbToHsv(e);this.domSaturationKnob.style.marginLeft=this.widgetWidth*t[1]-7+"px",this.domSaturationKnob.style.marginTop=this.widgetHeight*(1-t[2])-7+"px",t[1]=t[2]=1,this._linearGradient(this.domSaturation,"left","#fff",s.default.getStrColor(s.default.hsvToRgb(t))),this.domHueKnob.style.marginTop=(1-t[0])*this.widgetHeight+"px",this.hasAlpha&&void 0!==e[3]&&(this.domAlphaKnob.style.marginTop=(1-this.alpha)*this.widgetHeight+"px")}},{key:"_onMouseMove",value:function(e){if(this.editSaturation||this.editHue||this.editAlpha)return this.editSaturation?this._onUpdateSaturation(e):this.editHue?this._onUpdateHue(e):this.editAlpha?this._onUpdateAlpha(e):void 0}},{key:"_onSaturationDown",value:function(e){this.editSaturation=!0,this._onMouseMove(e)}},{key:"_onHueDown",value:function(e){this.editHue=!0,this._onMouseMove(e)}},{key:"_onAlphaDown",value:function(e){this.editAlpha=!0,this._onMouseMove(e)}},{key:"_onMouseUp",value:function(){this.editHue=this.editSaturation=this.editAlpha=!1}},{key:"_hueGradient",value:function(e){e.style.background="";for(var t=0,o=c.length;t<o;++t)e.style.cssText+="background: "+c[t]+"linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);"}},{key:"_alphaGradient",value:function(e,t,o,n){e.style.background="";for(var i=0,r=c.length;i<r;++i)e.style.cssText+="background: "+c[i]+"linear-gradient("+t+", "+o+","+n+'),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAIAAABLbSncAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAChJREFUeNpiPHPmDAMMGBsbw9lMDDgA6RKM%2F%2F%2F%2Fh3POnj1LCzsAAgwAQtYIcFfEyzkAAAAASUVORK5CYII%3D");'}},{key:"_linearGradient",value:function(e,t,o,n){e.style.background="";for(var i=0,r=c.length;i<r;++i)e.style.cssText+="background: "+c[i]+"linear-gradient("+t+", "+o+" 0%, "+n+" 100%);"}},{key:"setValue",value:function(e,t,o){for(var n=this.color,i=0,r=e.length;i<r;++i)n[i]=e[i];var a=s.default.rgbToHex(e);if(this.domInputColor.value=a,this.hasAlpha){e.length>=4?this.alpha=e[3]:e.push(this.alpha);var u="rgba("+parseInt(255*e[0],10)+","+parseInt(255*e[1],10)+","+parseInt(255*e[2],10)+","+this.alpha+")";this._alphaGradient(this.domInputColor,"0deg",u,u)}else this.domInputColor.style.background=a;var l=s.default.rgbToHsv(e);this.domSaturationKnob.style.borderColor=l[2]<.5||l[1]>.5?"#fff":"#000",this.domInputColor.style.color=this.alpha>.2&&(l[2]<.5||l[1]>.5)?"#fff":"#000",o||this._updateGui(),!t&&this.callback&&this.callback(e)}},{key:"getValue",value:function(){return this.color}}]),t}();t.default=f},function(e,t,o){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=function(e){return e&&e.__esModule?e:{default:e}}(o(0)),s=function(e){function t(e,o,i){var u;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var l=(u=function(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?a(e):t}(this,r(t).call(this)))._getInitialValue(e,o),s=u._getCheckCallback(e,o);return i=i||{},l=void 0!==l?l:i[0],u.isArray=void 0!==i.length,u.domSelect=document.createElement("select"),u.domSelect.className="gui-select",u.addOptions(i),u.domSelect.addEventListener("change",u._onChange.bind(a(u))),u.setValue(l),u.setCallback(s),u}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,l.default),function(e,t,o){t&&i(e.prototype,t)}(t,[{key:"_parseValue",value:function(e){return this.isArray?parseInt(e,10):e}},{key:"_onChange",value:function(e){this.setValue(e.target.value)}},{key:"addOptions",value:function(e){for(var t=Object.keys(e),o=0;o<t.length;++o){var n=document.createElement("option");n.innerHTML=e[t[o]],n.value=t[o],this.domSelect.appendChild(n)}}},{key:"setValue",value:function(e,t){this.domSelect.value=e,!t&&this.callback&&this.callback(this._parseValue(e))}},{key:"getValue",value:function(){return this._parseValue(this.domSelect.value)}}]),t}();t.default=s},function(e,t,o){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=function(e){return e&&e.__esModule?e:{default:e}}(o(0)),s=function(e){function t(e,o,i,u,l){var s;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var d=(s=function(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?a(e):t}(this,r(t).call(this)))._getInitialValue(e,o),c=s._getCheckCallback(e,o);return d=void 0!==d?d:100,i=void 0!==i?i:0,u=void 0!==u?u:200,l=void 0!==l?l:1,s.domSlider=document.createElement("div"),s.domSlider.className="gui-slider",s.domSliderFill=document.createElement("div"),s.domSlider.appendChild(s.domSliderFill),s.domInputText=document.createElement("input"),s.domInputText.className="gui-input-number",s.domInputText.type="number",s.min=s.domInputText.min=i,s.max=s.domInputText.max=u,s.step=s.domInputText.step=l,s.domInputText.addEventListener("keydown",s._onKeyDown.bind(a(s))),s.domInputText.addEventListener("change",s._onInputText.bind(a(s))),s.domInputText.addEventListener("blur",s._onInputText.bind(a(s))),s.domSlider.addEventListener("mousedown",s._onMouseDown.bind(a(s))),window.addEventListener("mouseup",s._onMouseUp.bind(a(s)),!0),window.addEventListener("mousemove",s._onMouseMove.bind(a(s))),s.lastValue=d,s.isDown=!1,s.setValue(d),s.setCallback(c),s}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,l.default),function(e,t,o){t&&i(e.prototype,t)}(t,[{key:"_onInputText",value:function(e){var t=parseFloat(e.target.value);t==t&&t!==this.lastValue&&this.setValue(t)}},{key:"_onKeyDown",value:function(e){e.stopPropagation(),13===e.which&&this.domInputText.blur()}},{key:"_onMouseMove",value:function(e){if(e.preventDefault(),this.isDown){var t=this.domSlider.getBoundingClientRect(),o=this.min+(this.max-this.min)*((e.clientX-t.left)/t.width);this.setValue(o)}}},{key:"_onMouseDown",value:function(e){this.isDown=!0,this._onMouseMove(e)}},{key:"_onMouseUp",value:function(){this.isDown=!1}},{key:"_setDomContainer",value:function(e){this.domContainer=e}},{key:"getValue",value:function(){return parseFloat(this.domInputText.value)}},{key:"setValue",value:function(e,t){this.lastValue=e,e=Math.max(Math.min(e,this.max),this.min),e=Math.round(e/this.step)*this.step,this.domInputText.value=e;var o=this.min;this.max!==this.min&&(o=(e-this.min)/(this.max-this.min)),this.domSliderFill.style.width=100*o+"%",!t&&this.callback&&this.callback(e)}},{key:"setMax",value:function(e){return this.domInputText.max=this.max=e,this}},{key:"setMin",value:function(e){return this.min=e,this}}]),t}();t.default=s},function(e,t,o){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=function(e){return e&&e.__esModule?e:{default:e}}(o(0)),s=function(e){function t(e){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(o=r(this,a(t).call(this))).domText=document.createElement("div"),o.domText.innerHTML=e||"",o.domText.className="group-title",o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,l.default),function(e,t,o){t&&i(e.prototype,t)}(t,[{key:"setText",value:function(e){this.domText.innerHTML=e}},{key:"setVisibility",value:function(e){this.domText.hidden=!e}}]),t}();t.default=s},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(o(14)),a=n(o(16)),u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.domTopbar=document.createElement("div"),this.domTopbar.className="gui-topbar",this.domUl=document.createElement("ul"),this.domTopbar.appendChild(this.domUl),this.callbackResize=t,this.uiExtra={}}return function(e,t,o){t&&i(e.prototype,t)}(e,[{key:"_updateViewportPosition",value:function(e){var t=this.domTopbar.hidden?0:this.domTopbar.offsetHeight;e.style.top=t+"px",e.style.height=e.clientHeight-t+"px"}},{key:"_onChangeColor",value:function(e,t){e(t),this.uiExtra.overallColor.setValue(a.default._curWidgetColor,!0),this.uiExtra.widgetColor.setValue(a.default._curWidgetColor,!0),this.uiExtra.backColor.setValue(a.default._curBackgroundColor,!0),this.uiExtra.textColor.setValue(a.default._curTextColor,!0)}},{key:"addMenu",value:function(e){var t=new r.default,o=document.createElement("li");return o.setAttribute("onclick","void(0)"),o.innerHTML=e||"",this.domUl.appendChild(o),o.appendChild(t.domUl),t._setDomContainer(o),t}},{key:"addExtra",value:function(){var e=this._onChangeColor,t=this.addMenu("Extra UI"),o=this.uiExtra;return t.addTitle("Overall"),o.overallColor=t.addColor("",a.default._curWidgetColor,e.bind(this,a.default.changeOverallColor)),t.addTitle("Advanced"),o.widgetColor=t.addColor("Widget",a.default._curWidgetColor,e.bind(this,a.default.changeWidgetsColor)),o.backColor=t.addColor("Back",a.default._curBackgroundColor,e.bind(this,a.default.changeBackgroundColor)),o.textColor=t.addColor("Text",a.default._curTextColor,e.bind(this,a.default.changeTextColor)),o.showBorder=t.addCheckbox("Border",a.default._curShowBorder,a.default.changeDisplayBoorder),t}},{key:"setVisibility",value:function(e){this.domTopbar.hidden=!e,this.callbackResize()}}]),e}();t.default=u},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e,t,o){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,o){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(o):i.value}})(e,t,o||e)}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var d=n(o(1)),c=n(o(15)),f=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=a(this,l(t).call(this))).domUl=document.createElement("ul"),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,d.default),function(e,t,o){t&&r(e.prototype,t)}(t,[{key:"addButton",value:function(e,t,o,n){var i=new c.default(t,o,n),r=this._addLine(e);return r.appendChild(i.domSpan),i._setDomContainer(r),i}},{key:"addSlider",value:function(e,o,n,i,r,a){var s=u(l(t.prototype),"addSlider",this).call(this,e,o,n,i,r,a);return s.domInputText.style.width="18%",s.domSlider.style.width=e?"44%":"80%",s}}]),t}();t.default=f},function(e,t,o){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=function(e){return e&&e.__esModule?e:{default:e}}(o(0)),s=function(e){function t(e,o,n){var i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i=r(this,a(t).call(this));var u=e;return u&&"function"!=typeof u?u=e[o].bind(e):n=o,i.domSpan=document.createElement("span"),i.domSpan.className="shortcut",i.domSpan.innerHTML=n||"",i.setCallback(u),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,l.default),function(e,t,o){t&&i(e.prototype,t)}(t,[{key:"_setDomContainer",value:function(e){this.domContainer=e,e.addEventListener("click",this._onClick.bind(this))}},{key:"_onClick",value:function(){this.callback&&this.callback()}}]),t}();t.default=s},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=function(e){return e&&e.__esModule?e:{default:e}}(o(2)),r={};r.refRules={};var a=function(e,t,o){var i=function(){if(n)return n;for(var e=document.styleSheets,t=0,o=e.length;t<o;++t){var i=e[t].href;if(i&&-1!==i.indexOf("yagui.css"))return n=e[t]}}();if(i){var a=i.cssRules||i.rules,u=r.refRules[e];if(!u){var l=0,s=a.length;for(l=0;l<s&&a[l].selectorText!==e;++l);if(l===s)return!1;u=r.refRules[e]=a[l]}u&&(u.style[t]=o)}};r.changeWidgetsColor=function(e){var t=i.default.getStrColor(e);a(".gui-button","background",t),a(".gui-select","background",t),a(".gui-slider > div","background",t),r._curWidgetColor=e},r.changeDisplayBoorder=function(e){var t=e?"1px solid #000":"0";a(".gui-button","border",t),a(".gui-select","border",t),a(".gui-slider","border",t),a(".gui-input-number","border",t),a(".gui-sidebar > ul > label","borderTop",t),a(".gui-sidebar > ul > label","borderBottom",t),a(".gui-sidebar","borderLeft",t),a(".gui-sidebar","borderRight",t),a(".gui-topbar","borderBottom",t),r._curShowBorder=e},r.changeBackgroundColor=function(e){a(".gui-sidebar","background",i.default.getStrColor(e));var t=i.default.getStrColor(i.default.getColorMult(e,.5));a(".gui-topbar","background",t),a(".gui-topbar ul > li > ul","background",t),r._curBackgroundColor=e},r.changeTextColor=function(e){var t=i.default.getStrColor(e);a("*","color",t),a(".gui-sidebar > ul > label","color",t),r._curTextColor=e},r.changeOverallColor=function(e){r.changeWidgetsColor(e);var t=i.default.getColorMult(e,.5);t.length=3,r.changeBackgroundColor(t);for(var o=i.default.getColorAdd(e,.5),n=0;n<3;++n)o[n]=Math.min(.8,o[n]);r.changeTextColor(o),r._curWidgetColor=e,r._curBackgroundColor=t,r._curTextColor=o},r._curTextColor=[.73,.73,.73,1],r._curWidgetColor=[.17,.01,.34,1],r._curShowBorder=!1;var u=r;t.default=u}])});