!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.yagui=t():e.yagui=t()}("undefined"!=typeof self?self:this,function(){return function(e){var t={};function o(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,o),i.l=!0,i.exports}return o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=3)}([function(e,t,o){"use strict";function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,o){t&&n(e.prototype,t),o&&n(e,o)}(e,[{key:"_getInitialValue",value:function(e,t){return"string"!=typeof t?e:e[t]}},{key:"_getCheckCallback",value:function(e,t){return"string"!=typeof t?t:function(o){e[t]=o}}},{key:"_setDomContainer",value:function(e){this.domContainer=e}},{key:"setCallback",value:function(e){this.callback=e}},{key:"setVisibility",value:function(e){this.domContainer&&(this.domContainer.hidden=!e)}}]),e}();t.default=i},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(o(7)),i=s(o(8)),r=s(o(9)),a=s(o(10)),u=s(o(11)),l=s(o(12));function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var c=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,o){t&&d(e.prototype,t),o&&d(e,o)}(e,[{key:"_addLine",value:function(e){var t=document.createElement("li");return t.innerHTML=e||"",this.domUl.appendChild(t),t}},{key:"_createLabel",value:function(e){var t=document.createElement("label");return t.className="gui-label-side",t.innerHTML=e||"",t}},{key:"_setDomContainer",value:function(e){this.domContainer=e}},{key:"addTitle",value:function(e){var t=new l.default(e);return this.domUl.appendChild(t.domText),t}},{key:"addCheckbox",value:function(e,t,o){var n=new i.default(t,o),r=this._addLine();r.className+=" gui-pointerOnHover gui-glowOnHover";var a=this._createLabel(e);return a.style.overflow="visible",a.className+=" gui-pointerOnHover",r.appendChild(a),r.appendChild(n.domCheckbox),r.appendChild(n.domLabelCheckbox),r.addEventListener("mousedown",n._onMouseDown.bind(n)),n._setDomContainer(r),n}},{key:"addCombobox",value:function(e,t,o,n){var i=new a.default(t,o,n),r=this._addLine();return e?r.appendChild(this._createLabel(e)):i.domSelect.style.width="100%",r.appendChild(i.domSelect),i._setDomContainer(r),i}},{key:"addSlider",value:function(e,t,o,n,i,r){var a=new u.default(t,o,n,i,r),l=this._addLine();return e&&l.appendChild(this._createLabel(e)),l.appendChild(a.domInputText),l.appendChild(a.domSlider),a._setDomContainer(l),a}},{key:"addColor",value:function(e,t,o){var n=new r.default(t,o),i=this._addLine();return e?i.appendChild(this._createLabel(e)):n.domColor.style.width="100%",i.appendChild(n.domColor),n._setDomContainer(i),n}},{key:"addButton",value:function(e,t,o){var i=new n.default(e,t,o),r=this._addLine();return r.appendChild(i.domButton),i._setDomContainer(r),i}},{key:"addDualButton",value:function(e,t,o,i,r,a){var u=new n.default(e,o,r),l=new n.default(t,i,a),s=this._addLine();s.appendChild(l.domButton),s.appendChild(u.domButton);var d=u.domButton.style,c=l.domButton.style;return d.width=c.width="49%",d.marginRight=c.marginLeft="1%",u._setDomContainer(s),l._setDomContainer(s),[u,l]}},{key:"setVisibility",value:function(e){this.domContainer&&(this.domContainer.hidden=!e)}}]),e}();t.default=c},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={rgbToHsv:function(e){var t=e[0],o=e[1],n=e[2],i=Math.max(t,o,n),r=Math.min(t,o,n);return r===i?[0,0,r]:[((t===r?3:n===r?1:5)-(t===r?o-n:n===r?t-o:n-t)/(i-r))/6,(i-r)/i,i]},hsvToRgb:function(e){var t=6*e[0],o=e[1],n=e[2],i=Math.floor(t),r=t-i,a=n*(1-o),u=n*(1-r*o),l=n*(1-(1-r)*o),s=i%6;return 0===s?[n,l,a]:1===s?[u,n,a]:2===s?[a,n,l]:3===s?[a,u,n]:4===s?[l,a,n]:[n,a,u]},getValidColor:function(e){for(var t=0,o=e.length;t<o;++t)e[t]=Math.max(0,Math.min(1,e[t]));return e},getStrColor:function(e){return 3===e.length?n.rgbToHex(e):"rgba("+Math.round(255*e[0])+","+Math.round(255*e[1])+","+Math.round(255*e[2])+","+e[3]+")"},getColorMult:function(e,t){var o=[e[0]*t,e[1]*t,e[2]*t];return 4===e.length&&o.push(e[3]),n.getValidColor(o)},getColorAdd:function(e,t){var o=[e[0]+t,e[1]+t,e[2]+t];return 4===e.length&&o.push(e[3]),n.getValidColor(o)},rgbToHex:function(e){for(var t="#",o=0;o<3;++o){var n=Math.round(255*e[o]).toString(16);t+=1===n.length?"0"+n:n}return t},hexToRgb:function(e){var t=0;"#"===e[0]&&(e=e.slice(1));var o=e;if(e.length>6)o=e.slice(0,6);else if(e.length<6)for(o="",t=0;t<3;++t)o+=e[t]?e[t]+e[t]:"00";var n=[0,0,0];for(t=0;t<3;++t){var i=parseInt(o[2*t]+o[2*t+1],16);n[t]=(i!=i?0:i)/255}return n}},i=n;t.default=i},function(e,t,o){"use strict";var n={GuiMain:o(4).default};e.exports=n},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(o(5)),i=r(o(13));function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var u=function(){function e(t,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.domMain=document.createElement("div"),this.viewport=t,this.callbackResize=o,this.viewport&&(this.viewport.style.width=document.documentElement.clientWidth+"px",this.viewport.style.height=document.documentElement.clientHeight+"px"),this.cbResize_=this._onWindowResize.bind(this),document.body.appendChild(this.domMain),this.leftSidebar=void 0,this.rightSidebar=void 0,this.topbar=void 0,window.addEventListener("resize",this._onWindowResize.bind(this),!1)}return function(e,t,o){t&&a(e.prototype,t),o&&a(e,o)}(e,[{key:"_onWindowResize",value:function(){this.viewport&&(this.viewport.style.width=document.documentElement.clientWidth+"px",this.viewport.style.height=document.documentElement.clientHeight+"px",this.viewport.style.left="0px",this.viewport.style.top="0px",this.leftSidebar&&this.leftSidebar._updateViewportPosition(this.viewport),this.rightSidebar&&this.rightSidebar._updateViewportPosition(this.viewport),this.topbar&&this.topbar._updateViewportPosition(this.viewport)),this._updateSidebarsPosition(),this.callbackResize&&this.callbackResize()}},{key:"_updateSidebarsPosition",value:function(){if(this.topbar){var e=this.topbar.domTopbar.offsetHeight;this.leftSidebar&&this.leftSidebar._setTop(e),this.rightSidebar&&this.rightSidebar._setTop(e)}}},{key:"addLeftSidebar",value:function(){this.leftSidebar=new n.default(this.cbResize_);var e=this.leftSidebar.domSidebar;return this.domMain.appendChild(e),this.domMain.appendChild(this.leftSidebar.domResize),this._updateSidebarsPosition(),this.leftSidebar._updateViewportPosition(this.viewport),this.leftSidebar}},{key:"addRightSidebar",value:function(){this.rightSidebar=new n.default(this.cbResize_);var e=this.rightSidebar.domSidebar;return this.domMain.appendChild(e),this.domMain.appendChild(this.rightSidebar.domResize),this.rightSidebar._onTheRight(),this._updateSidebarsPosition(),this.rightSidebar._updateViewportPosition(this.viewport),this.rightSidebar}},{key:"addTopbar",value:function(){return this.topbar=new i.default(this.cbResize_),this.domMain.appendChild(this.topbar.domTopbar),this._updateSidebarsPosition(),this.topbar._updateViewportPosition(this.viewport),this.topbar}},{key:"setVisibility",value:function(e){this.domMain.hidden=!e,this._onWindowResize()}}]),e}();t.default=u},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(o(6));function i(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.domSidebar=document.createElement("div"),this.domSidebar.className="gui-sidebar",this.domResize=document.createElement("div"),this.domResize.className="gui-resize",this.isDragging=!1,this.mouseX=0,this.domResize.addEventListener("mousedown",this._onMouseDown.bind(this)),window.addEventListener("mousemove",this._onMouseMove.bind(this)),window.addEventListener("mouseup",this._onMouseUp.bind(this)),this.callbackResize=t,this.isOnTheRight=!1}return function(e,t,o){t&&i(e.prototype,t),o&&i(e,o)}(e,[{key:"_setTop",value:function(e){this.domSidebar.style.top=this.domResize.style.top=e+"px"}},{key:"_onTheRight",value:function(){this.isOnTheRight=!0,this.domSidebar.style.right=0,this.domSidebar.style.borderRight=0,this.domSidebar.style.borderLeft="double",this.domSidebar.style.borderColor="rgba(255,255,255,0.3)",this.domResize.style.left="auto",this.domResize.style.right=this.domSidebar.offsetWidth+"px",this.domResize.style.marginRight="-3px"}},{key:"_onMouseDown",value:function(e){this.isDragging=!0,this.mouseX=e.clientX}},{key:"_updateViewportPosition",value:function(e){var t=this.domSidebar.hidden?0:this.domSidebar.offsetWidth;this.isOnTheRight?e.style.width=e.clientWidth-t+"px":(e.style.left=this.domSidebar.offsetLeft+t+"px",e.style.width=e.clientWidth-t+"px")}},{key:"_onMouseMove",value:function(e){if(!1!==this.isDragging){var t=e.clientX,o=t-this.mouseX;this.isOnTheRight&&(o=-o);var n=Math.max(50,this.domSidebar.offsetWidth+o)+"px";this.domSidebar.style.width=n,this.isOnTheRight?this.domResize.style.right=this.domSidebar.offsetWidth+"px":this.domResize.style.left=n,this.mouseX=t,this.callbackResize()}}},{key:"_onMouseUp",value:function(){this.isDragging=!1}},{key:"addMenu",value:function(e){var t=new n.default(e);return this.domSidebar.appendChild(t.domUl),t}},{key:"setVisibility",value:function(e){this.domSidebar.hidden=!e,this.domResize.hidden=!e,this.callbackResize()}}]),e}();t.default=r},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(o(1));function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var s=function(e){function t(e){var o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(o=function(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?u(e):t}(this,a(t).call(this))).domUl=document.createElement("ul"),o.domUl.setAttribute("opened",!0);var n=document.createElement("label");return n.innerHTML=e||"",n.addEventListener("mousedown",o._onMouseDown.bind(u(o))),o.domUl.appendChild(n),o.isOpen=!0,o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(t,n["default"]),function(e,t,o){t&&r(e.prototype,t),o&&r(e,o)}(t,[{key:"_onMouseDown",value:function(){this.isOpen=!this.isOpen,this.domUl.setAttribute("opened",this.isOpen)}},{key:"open",value:function(){this.isOpen=!0,this.domUl.setAttribute("opened",!0)}},{key:"close",value:function(){this.isOpen=!1,this.domUl.setAttribute("opened",!1)}},{key:"setVisibility",value:function(e){e?this.isOpen&&this.domUl.setAttribute("opened",!0):this.domUl.setAttribute("opened",!1),this.domUl.style.height=e?"auto":"0px"}}]),t}();t.default=s},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(o(0));function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var s=function(e){function t(e,o,n){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=function(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?u(e):t}(this,a(t).call(this));var l=n?o[n].bind(o):o;return r.domButton=document.createElement("button"),r.domButton.className="gui-button",r.domButton.innerHTML=e||"",r.domButton.addEventListener("click",r._onClick.bind(u(r))),r.setCallback(l),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(t,n["default"]),function(e,t,o){t&&r(e.prototype,t),o&&r(e,o)}(t,[{key:"setEnable",value:function(e){this.domButton.disabled=void 0!==e&&!e}},{key:"_onClick",value:function(){this.callback&&this.callback()}}]),t}();t.default=s},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(o(0));function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var s=function(e){function t(e,o){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=(n=a(this,u(t).call(this)))._getInitialValue(e,o),r=n._getCheckCallback(e,o);return n.domCheckbox=document.createElement("input"),n.domCheckbox.className="gui-input-checkbox",n.domCheckbox.type="checkbox",n.domLabelCheckbox=document.createElement("label"),n.setValue(void 0===i||i),n.setCallback(r),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(t,n["default"]),function(e,t,o){t&&r(e.prototype,t),o&&r(e,o)}(t,[{key:"_onMouseDown",value:function(){this.setValue(!this.domCheckbox.checked)}},{key:"setValue",value:function(e,t){this.domCheckbox.checked=e,!t&&this.callback&&this.callback(e)}},{key:"getValue",value:function(){return this.domCheckbox.checked}}]),t}();t.default=s},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(o(2)),i=r(o(0));function r(e){return e&&e.__esModule?e:{default:e}}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var c=["-moz-","-o-","-webkit-","-ms-",""],f=function(e){function t(e,o){var i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=(i=function(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?s(e):t}(this,l(t).call(this)))._getInitialValue(e,o),u=i._getCheckCallback(e,o);i.color=r?n.default.getValidColor(r.slice()):[1,0,0],i.domColor=document.createElement("div"),i.domColor.className="gui-widget-color",i.domInputColor=document.createElement("input"),i.domPopup=document.createElement("div"),i.domHue=document.createElement("div"),i.domHue.className="gui-color-hue",i.domHueKnob=document.createElement("div"),i.domHueKnob.className="gui-knob-hue",i.domSaturation=document.createElement("div"),i.domSaturation.className="gui-color-saturation";var d=document.createElement("div");return i.domSaturation.appendChild(d),i.domSaturationKnob=document.createElement("div"),i.domSaturationKnob.className="gui-knob-saturation",i.domHue.appendChild(i.domHueKnob),i.domPopup.appendChild(i.domSaturationKnob),i.domPopup.appendChild(i.domSaturation),i.domPopup.appendChild(i.domHue),i.domColor.appendChild(i.domInputColor),i.domColor.appendChild(i.domPopup),i._hueGradient(i.domHue),i._linearGradient(d,"top","rgba(0,0,0,0)","#000"),i.domColor.addEventListener("keydown",i._onInputDown.bind(s(i))),i.domSaturation.addEventListener("mousedown",i._onSaturationDown.bind(s(i))),i.domHue.addEventListener("mousedown",i._onHueDown.bind(s(i))),window.addEventListener("mouseup",i._onMouseUp.bind(s(i))),window.addEventListener("mouseout",i._onMouseUp.bind(s(i))),window.addEventListener("mousemove",i._onMouseMove.bind(s(i))),i.hasAlpha=4===i.color.length,i.alpha=1,i.hasAlpha&&(i.domPopup.style.width="142px",i.domAlpha=document.createElement("div"),i.domAlpha.className="gui-color-alpha",i.domAlphaKnob=document.createElement("div"),i.domAlphaKnob.className="gui-knob-alpha",i._alphaGradient(i.domAlpha,"top","rgba(0,0,0,1.0)","rgba(0,0,0,0.0)"),i.domAlpha.addEventListener("mousedown",i._onAlphaDown.bind(s(i))),i.domAlpha.appendChild(i.domAlphaKnob),i.domPopup.appendChild(i.domAlpha)),i.editHue=i.editSaturation=i.editAlpha=!1,i.widgetHeight=i.widgetWidth=100,i.setValue(i.color),i.setCallback(u),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,i["default"]),function(e,t,o){t&&u(e.prototype,t),o&&u(e,o)}(t,[{key:"_onInputDown",value:function(e){e.stopPropagation(),13===e.keyCode&&this.setValue(n.default.hexToRgb(e.target.value))}},{key:"_onUpdateSaturation",value:function(e){var t=this.domSaturation.getBoundingClientRect(),o=n.default.rgbToHsv(this.getValue());o[1]=Math.min(1,Math.max(0,(e.clientX-t.left)/t.width)),o[2]=Math.min(1,Math.max(0,1-(e.clientY-t.top)/t.width)),this.setValue(n.default.hsvToRgb(o),!1,!0),this._updateGui()}},{key:"_onUpdateHue",value:function(e){var t=this.domHue.getBoundingClientRect(),o=n.default.rgbToHsv(this.getValue());o[0]=Math.min(1,Math.max(0,1-(e.clientY-t.top)/t.height)),this.setValue(n.default.hsvToRgb(o),!1,!0),this._updateGui()}},{key:"_onUpdateAlpha",value:function(e){var t=this.domAlpha.getBoundingClientRect(),o=this.getValue();o[3]=this.alpha=Math.min(1,Math.max(0,1-(e.clientY-t.top)/t.height)),this.setValue(o,!1,!0),this._updateGui()}},{key:"_updateGui",value:function(){var e=this.getValue(),t=n.default.rgbToHsv(e);this.domSaturationKnob.style.marginLeft=this.widgetWidth*t[1]-7+"px",this.domSaturationKnob.style.marginTop=this.widgetHeight*(1-t[2])-7+"px",t[1]=t[2]=1,this._linearGradient(this.domSaturation,"left","#fff",n.default.getStrColor(n.default.hsvToRgb(t))),this.domHueKnob.style.marginTop=(1-t[0])*this.widgetHeight+"px",this.hasAlpha&&void 0!==e[3]&&(this.domAlphaKnob.style.marginTop=(1-this.alpha)*this.widgetHeight+"px")}},{key:"_onMouseMove",value:function(e){if(this.editSaturation||this.editHue||this.editAlpha)return this.editSaturation?this._onUpdateSaturation(e):this.editHue?this._onUpdateHue(e):this.editAlpha?this._onUpdateAlpha(e):void 0}},{key:"_onSaturationDown",value:function(e){this.editSaturation=!0,this._onMouseMove(e)}},{key:"_onHueDown",value:function(e){this.editHue=!0,this._onMouseMove(e)}},{key:"_onAlphaDown",value:function(e){this.editAlpha=!0,this._onMouseMove(e)}},{key:"_onMouseUp",value:function(){this.editHue=this.editSaturation=this.editAlpha=!1}},{key:"_hueGradient",value:function(e){e.style.background="";for(var t=0,o=c.length;t<o;++t)e.style.cssText+="background: "+c[t]+"linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);"}},{key:"_alphaGradient",value:function(e,t,o,n){e.style.background="";for(var i=0,r=c.length;i<r;++i)e.style.cssText+="background: "+c[i]+"linear-gradient("+t+", "+o+","+n+'),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAIAAABLbSncAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAChJREFUeNpiPHPmDAMMGBsbw9lMDDgA6RKM%2F%2F%2F%2Fh3POnj1LCzsAAgwAQtYIcFfEyzkAAAAASUVORK5CYII%3D");'}},{key:"_linearGradient",value:function(e,t,o,n){e.style.background="";for(var i=0,r=c.length;i<r;++i)e.style.cssText+="background: "+c[i]+"linear-gradient("+t+", "+o+" 0%, "+n+" 100%);"}},{key:"setValue",value:function(e,t,o){for(var i=this.color,r=0,a=e.length;r<a;++r)i[r]=e[r];var u=n.default.rgbToHex(e);if(this.domInputColor.value=u,this.hasAlpha){e.length>=4?this.alpha=e[3]:e.push(this.alpha);var l="rgba("+parseInt(255*e[0],10)+","+parseInt(255*e[1],10)+","+parseInt(255*e[2],10)+","+this.alpha+")";this._alphaGradient(this.domInputColor,"0deg",l,l)}else this.domInputColor.style.background=u;var s=n.default.rgbToHsv(e);this.domSaturationKnob.style.borderColor=s[2]<.5||s[1]>.5?"#fff":"#000",this.domInputColor.style.color=this.alpha>.2&&(s[2]<.5||s[1]>.5)?"#fff":"#000",o||this._updateGui(),!t&&this.callback&&this.callback(e)}},{key:"getValue",value:function(){return this.color}}]),t}();t.default=f},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(o(0));function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var s=function(e){function t(e,o,n){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var l=(r=function(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?u(e):t}(this,a(t).call(this)))._getInitialValue(e,o),s=r._getCheckCallback(e,o);return n=n||{},l=void 0!==l?l:n[0],r.isArray=void 0!==n.length,r.domSelect=document.createElement("select"),r.domSelect.className="gui-select",r.addOptions(n),r.domSelect.addEventListener("change",r._onChange.bind(u(r))),r.setValue(l),r.setCallback(s),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(t,n["default"]),function(e,t,o){t&&r(e.prototype,t),o&&r(e,o)}(t,[{key:"_parseValue",value:function(e){return this.isArray?parseInt(e,10):e}},{key:"_onChange",value:function(e){this.setValue(e.target.value)}},{key:"addOptions",value:function(e){for(var t=Object.keys(e),o=0;o<t.length;++o){var n=document.createElement("option");n.innerHTML=e[t[o]],n.value=t[o],this.domSelect.appendChild(n)}}},{key:"setValue",value:function(e,t){this.domSelect.value=e,!t&&this.callback&&this.callback(this._parseValue(e))}},{key:"getValue",value:function(){return this._parseValue(this.domSelect.value)}}]),t}();t.default=s},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(o(0));function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var s=function(e){function t(e,o,n,r,l){var s;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var d=(s=function(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?u(e):t}(this,a(t).call(this)))._getInitialValue(e,o),c=s._getCheckCallback(e,o);return d=void 0!==d?d:100,n=void 0!==n?n:0,r=void 0!==r?r:200,l=void 0!==l?l:1,s.domSlider=document.createElement("div"),s.domSlider.className="gui-slider",s.domSliderFill=document.createElement("div"),s.domSlider.appendChild(s.domSliderFill),s.domInputText=document.createElement("input"),s.domInputText.className="gui-input-number",s.domInputText.type="number",s.min=s.domInputText.min=n,s.max=s.domInputText.max=r,s.step=s.domInputText.step=l,s.domInputText.addEventListener("keydown",s._onKeyDown.bind(u(s))),s.domInputText.addEventListener("change",s._onInputText.bind(u(s))),s.domInputText.addEventListener("blur",s._onInputText.bind(u(s))),s.domSlider.addEventListener("mousedown",s._onMouseDown.bind(u(s))),window.addEventListener("mouseup",s._onMouseUp.bind(u(s)),!0),window.addEventListener("mousemove",s._onMouseMove.bind(u(s))),s.lastValue=d,s.isDown=!1,s.setValue(d),s.setCallback(c),s}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(t,n["default"]),function(e,t,o){t&&r(e.prototype,t),o&&r(e,o)}(t,[{key:"_onInputText",value:function(e){var t=parseFloat(e.target.value);t==t&&t!==this.lastValue&&this.setValue(t)}},{key:"_onKeyDown",value:function(e){e.stopPropagation(),13===e.which&&this.domInputText.blur()}},{key:"_onMouseMove",value:function(e){if(e.preventDefault(),this.isDown){var t=this.domSlider.getBoundingClientRect(),o=this.min+(this.max-this.min)*((e.clientX-t.left)/t.width);this.setValue(o)}}},{key:"_onMouseDown",value:function(e){this.isDown=!0,this._onMouseMove(e)}},{key:"_onMouseUp",value:function(){this.isDown=!1}},{key:"_setDomContainer",value:function(e){this.domContainer=e}},{key:"getValue",value:function(){return parseFloat(this.domInputText.value)}},{key:"setValue",value:function(e,t){this.lastValue=e,e=Math.max(Math.min(e,this.max),this.min),e=Math.round(e/this.step)*this.step,this.domInputText.value=e;var o=this.min;this.max!==this.min&&(o=(e-this.min)/(this.max-this.min)),this.domSliderFill.style.width=100*o+"%",!t&&this.callback&&this.callback(e)}},{key:"setMax",value:function(e){return this.domInputText.max=this.max=e,this}},{key:"setMin",value:function(e){return this.min=e,this}}]),t}();t.default=s},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(o(0));function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var s=function(e){function t(e){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(o=a(this,u(t).call(this))).domText=document.createElement("div"),o.domText.innerHTML=e||"",o.domText.className="group-title",o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(t,n["default"]),function(e,t,o){t&&r(e.prototype,t),o&&r(e,o)}(t,[{key:"setText",value:function(e){this.domText.innerHTML=e}},{key:"setVisibility",value:function(e){this.domText.hidden=!e}}]),t}();t.default=s},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(o(14)),i=r(o(16));function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.domTopbar=document.createElement("div"),this.domTopbar.className="gui-topbar",this.domUl=document.createElement("ul"),this.domTopbar.appendChild(this.domUl),this.callbackResize=t,this.uiExtra={}}return function(e,t,o){t&&a(e.prototype,t),o&&a(e,o)}(e,[{key:"_updateViewportPosition",value:function(e){var t=this.domTopbar.hidden?0:this.domTopbar.offsetHeight;e.style.top=t+"px",e.style.height=e.clientHeight-t+"px"}},{key:"_onChangeColor",value:function(e,t){e(t),this.uiExtra.overallColor.setValue(i.default._curWidgetColor,!0),this.uiExtra.widgetColor.setValue(i.default._curWidgetColor,!0),this.uiExtra.backColor.setValue(i.default._curBackgroundColor,!0),this.uiExtra.textColor.setValue(i.default._curTextColor,!0)}},{key:"addMenu",value:function(e){var t=new n.default,o=document.createElement("li");return o.setAttribute("onclick","void(0)"),o.innerHTML=e||"",this.domUl.appendChild(o),o.appendChild(t.domUl),t._setDomContainer(o),t}},{key:"addExtra",value:function(){var e=this._onChangeColor,t=this.addMenu("Extra UI"),o=this.uiExtra;return t.addTitle("Overall"),o.overallColor=t.addColor("",i.default._curWidgetColor,e.bind(this,i.default.changeOverallColor)),t.addTitle("Advanced"),o.widgetColor=t.addColor("Widget",i.default._curWidgetColor,e.bind(this,i.default.changeWidgetsColor)),o.backColor=t.addColor("Back",i.default._curBackgroundColor,e.bind(this,i.default.changeBackgroundColor)),o.textColor=t.addColor("Text",i.default._curTextColor,e.bind(this,i.default.changeTextColor)),o.showBorder=t.addCheckbox("Border",i.default._curShowBorder,i.default.changeDisplayBoorder),t}},{key:"setVisibility",value:function(e){this.domTopbar.hidden=!e,this.callbackResize()}}]),e}();t.default=u},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(o(1)),i=r(o(15));function r(e){return e&&e.__esModule?e:{default:e}}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e,t,o){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,o){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(o):i.value}})(e,t,o||e)}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=l(this,d(t).call(this))).domUl=document.createElement("ul"),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,n["default"]),function(e,t,o){t&&u(e.prototype,t),o&&u(e,o)}(t,[{key:"addButton",value:function(e,t,o,n){var r=new i.default(t,o,n),a=this._addLine(e);return a.appendChild(r.domSpan),r._setDomContainer(a),r}},{key:"addSlider",value:function(e,o,n,i,r,a){var u=s(d(t.prototype),"addSlider",this).call(this,e,o,n,i,r,a);return u.domInputText.style.width="18%",u.domSlider.style.width=e?"44%":"80%",u}}]),t}();t.default=f},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(o(0));function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var s=function(e){function t(e,o,n){var i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i=a(this,u(t).call(this));var r=e;return r&&"function"!=typeof r?r=e[o].bind(e):n=o,i.domSpan=document.createElement("span"),i.domSpan.className="shortcut",i.domSpan.innerHTML=n||"",i.setCallback(r),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(t,n["default"]),function(e,t,o){t&&r(e.prototype,t),o&&r(e,o)}(t,[{key:"_setDomContainer",value:function(e){this.domContainer=e,e.addEventListener("click",this._onClick.bind(this))}},{key:"_onClick",value:function(){this.callback&&this.callback()}}]),t}();t.default=s},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(o(2));var i,r={};r.refRules={};var a=function(e,t,o){var n=function(){if(i)return i;for(var e=document.styleSheets,t=0,o=e.length;t<o;++t){var n=e[t].href;if(n&&-1!==n.indexOf("yagui.css"))return i=e[t]}}();if(n){var a=n.cssRules||n.rules,u=r.refRules[e];if(!u){var l=0,s=a.length;for(l=0;l<s&&a[l].selectorText!==e;++l);if(l===s)return!1;u=r.refRules[e]=a[l]}u&&(u.style[t]=o)}};r.changeWidgetsColor=function(e){var t=n.default.getStrColor(e);a(".gui-button","background",t),a(".gui-select","background",t),a(".gui-slider > div","background",t),r._curWidgetColor=e},r.changeDisplayBoorder=function(e){var t=e?"1px solid #000":"0";a(".gui-button","border",t),a(".gui-select","border",t),a(".gui-slider","border",t),a(".gui-input-number","border",t),a(".gui-sidebar > ul > label","borderTop",t),a(".gui-sidebar > ul > label","borderBottom",t),a(".gui-sidebar","borderLeft",t),a(".gui-sidebar","borderRight",t),a(".gui-topbar","borderBottom",t),r._curShowBorder=e},r.changeBackgroundColor=function(e){a(".gui-sidebar","background",n.default.getStrColor(e));var t=n.default.getStrColor(n.default.getColorMult(e,.5));a(".gui-topbar","background",t),a(".gui-topbar ul > li > ul","background",t),r._curBackgroundColor=e},r.changeTextColor=function(e){var t=n.default.getStrColor(e);a("*","color",t),a(".gui-sidebar > ul > label","color",t),r._curTextColor=e},r.changeOverallColor=function(e){r.changeWidgetsColor(e);var t=n.default.getColorMult(e,.5);t.length=3,r.changeBackgroundColor(t);for(var o=n.default.getColorAdd(e,.5),i=0;i<3;++i)o[i]=Math.min(.8,o[i]);r.changeTextColor(o),r._curWidgetColor=e,r._curBackgroundColor=t,r._curTextColor=o},r._curTextColor=[.73,.73,.73,1],r._curWidgetColor=[.17,.01,.34,1],r._curBackgroundColor=[.17,.01,.34],r._curShowBorder=!1,r.changeOverallColor([.34,.34,.34]),r.changeWidgetsColor([.34,.34,.34]),r.changeBackgroundColor([.34,.34,.34]),r.changeTextColor([.8,.8,.8]);var u=r;t.default=u}])});